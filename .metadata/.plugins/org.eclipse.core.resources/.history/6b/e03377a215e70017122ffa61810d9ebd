package fr.m2i.thread;

import java.util.ArrayList;

public class Main {

	public static void main(String[] args) {
		try {
		// TODO Auto-generated method stub
		Personne p1 = new Personne("Le gall", "Paul", "8 rue test", "Chartres", 28000);
		Personne p2 = new Personne("Test", "prenom", "8 rue test", "Chartres", 28000);
		Personne p3 = new Personne("Picole", "Gerard", "8 rue test", "Chartres", 28000);
		FileAttente fa = new FileAttente();
		fa.ajouter(p1,0);
		fa.ajouter(p2,0);
		fa.ajouter(p3,0);
		int count = 0;
		while(true)
		{
			if(count > 0) {
		        Runtime.getRuntime().exec("clear");
				System.out.print("\033[H\033[2J");
		        Runtime.getRuntime().exec("clear");
				System.out.println(fa.afficherFile());
				System.out.println("Une entr√©e toutes les "+ (float) (fa.getNbMoyenEntreesParSeconde()/1000)+" secondes");
			}
				
			else {
				System.out.println(fa.afficherFile());
			}
			int randTime = fa.generateTime();
			Thread.sleep(randTime);
			fa.AddGeneratedPersonne(randTime);
			count++;
		}
		//System.out.println(fa.afficherFile());
		
		}
		catch(Exception e) 
		{
			System.out.println(e.getMessage());
		}
		
	}

}
